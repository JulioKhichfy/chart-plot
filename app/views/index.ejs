<!DOCTYPE HTML>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8">

		<title>Plot - Chart</title>

		<!-- bootstrap -->
		<link rel="stylesheet" href="css/bootstrap.min.css">
		
		<!-- text area and line input -->
		<link rel="stylesheet" href="css/jquery.numberedtextarea.css">

		<style>
			textarea {background:#000000; color:#ffffff; width: 100%;}
		</style>
	</head>
 
	<body>
	 	<div class="container">
			<div class="row">
				<div class="col-12">	
					<nav class="navbar navbar-light" style="background-color: gray;">
			  			<label><%= name_autor %>'s Challenge</label>
					</nav>
				</div>
			</div>
			<form action="/send" method="post">
				<div class="row">
		    		<div class="col-12">
		    			<div class="numberedtextarea-wrapper">
		    				<textarea id="txtArea" name="eventsJson" cols="110" rows="15" onkeypress="onTestChange();"></textarea>
		    				<input type="hidden" id="contLines" name="contLines" />
		    			</div>
		    			
			    	</div>
		    	</div>
		    	<div class="col-2">
		    		<button type="submit" class="btn btn-default">Gerar Gr√°fico</button>
		    	</div>
	    	</form>
	    	

	    </div>
	<!-- JQuery -->
	<script src="js/jquery-3.3.1.min.js"></script>
	<!--crossorigin="anonymous"-->
	<script src="js/bootstrap.min.js" ></script>
	<script src="js/jquery.numberedtextarea.js"></script>

	<script type="text/javascript">
		$('textarea').numberedtextarea();
		//var d = $('numberedtextarea-number');
		//alert(d.length);
	</script>
	<script>
		function onTestChange() {
		    var key = window.event.keyCode;
		    var line = 0;
		    // If the user has pressed enter
		    if (key === 13) {
		        line = document.getElementsByClassName("numberedtextarea-number").length + 1;
		    	document.getElementById("contLines").value = line;
		    }
		    
		}
	</script>
	</body>
</html>